---
title: vim快捷键
author: lijiabao
date: 2021-02-21 00:20:31.096378900 +0800
category: vim使用
categories: vim使用
tags: vim使用
---

### 前缀

前缀键。各类 vim 插件帮助文档中经常出现` <leader>`，即，前缀键。vim 自带有很多快捷键，再加上各类插件的快捷键，大量快捷键出现在单层空间中难免引起冲突，为缓解该问题，引入了前缀键 `<leader>`，这样，键 r 可以配置成 `r、<leader>r、<leader><leader>r `等等多个快捷键。前缀键是 vim 使用率较高的一个键（最高的当属 Esc），选一个最方便输入的键作为前缀键，将有助于提高编辑效率。找个无须眼睛查找、无须移动手指的键 —— 分号键，挺方便的，就在你右手小指处：  

前缀键的出现，让vim的键盘映射更加丰富，而且也能避免让某些键盘失去原来的功效，只需呀i添加一个前缀，就可以解决掉一些冲突，很方便

```
"定义快捷键的前缀，即<Leader>let mapleader=";"
" 定义好了前缀符号，就可以使用前缀符来引导映射了
:noremap <leader><c-d> dd类似的操作
```
vim当中还有一种localleader，这种使用于特定类型文件的键盘映射
`:let maplocalleader='\\'`

vim中的`<cr>`代表的是换行回车符，执行的是enter的操作，在很对的键盘映射中可看到

### normal模式下的键盘映射

`：map - x`
符号`-`代表的是绑定的键盘
`x`代表的是按下按键后执行的命令
键盘绑定可以是：`<keyname>`，也可以是字符
其中keyname可以是一个特殊按键，也可是一组按键命令
如`<space>，<c-d>#ctrl+d>`

### 不同模式下的键盘映射

- `:nmap`：normal模式
- `:vmap`：visual模式
- `:imap`：insert模式

insert模式下默认不能使用normal下的命令
因此`:imap <c-d> dd`只是插入两个d字符
`:imap <c-d> <ESC>ddi`这样绑定是先esc推出到normal模式，再执行dd,再按i进入插入模式

### 精确映射
```
:map x dd
:map \ x
" 对于上述的命令绑定，由于是递归的映射，因此在你执行\命令时，会调用到dd,产生自己想不到的结果，因此需要使用非递归的
:noremap \ x
" 这种绑定在执行的时候不会在调用到dd上
" 映射的时候尽量避免映射冲突，因此设置的时候最好进行仔细的检查
```

由于上述的命令可能存在递归调用的情况，可能会造成不小的问题，因此任何时候，都不要过于随便的使用上述的键盘映射命令，而需要使用非递归的映射命令：
\*map都有一个对应的非递归映射命令：\*noremap
这个非递归的映射命令会忽略掉现有命令的映射，而只执行当前命令的默认映射

对于某一时刻的灵感突发，想要修改vimrc配置文件，但是又不想推出当前的vim窗口，那么可以绑定一个快捷键来打开vimrc：
`:noremap <leader>ev :vsplit $MYVIMRC <CR>`
`:noremap <leader>rd source $MYVIMRC <CR>`执行配置文件的重新读取
这样可以减少很多没必要的时间浪费和灵感的消失

